(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),l=t.n(o),c=(t(20),t(3)),u=(t(14),t(2)),i=t.n(u),m="https://still-escarpment-23839.herokuapp.com/api/persons",s=function(){return i.a.get(m)},d=function(e){return i.a.post(m,e)},h=function(e,n){return console.log("Updated"),i.a.put("".concat(m,"/").concat(e),n)},f=function(e){return console.log("Deleting ".concat(e)),i.a.delete("".concat(m,"/").concat(e))},g={color:"red"},v=function(e){var n=e.persons;return n.length>0?r.a.createElement("div",null,r.a.createElement("h2",null," All Entries "),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e.id,className:"person"},e.name," (",e.id,"): ",e.number,r.a.createElement("button",{onClick:function(){return f(e.id)}},"Delete"))})))):r.a.createElement("h3",{style:g}," No Entries ")},E=function(e){var n=e.addName,t=e.newName,a=e.newNumber,o=e.handleName,l=e.handleNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"Name:",r.a.createElement("input",{value:t,onChange:o})),r.a.createElement("div",null,"Number:",r.a.createElement("input",{value:a,onChange:l})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add")))},p=function(e){var n=e.onChange;return r.a.createElement("form",null,"Filter:",r.a.createElement("input",{type:"text",onChange:n}))},b=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],l=Object(a.useState)(""),u=Object(c.a)(l,2),i=u[0],m=u[1],f=Object(a.useState)(""),g=Object(c.a)(f,2),b=g[0],w=g[1],N=Object(a.useState)(),k=Object(c.a)(N,2),y=(k[0],k[1]);Object(a.useEffect)((function(){var e=setInterval((function(){s().then((function(e){o(e.data)})),console.log("Updating every 2s")}),2e3);return function(){return clearInterval(e)}}),[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement("h3",null," Search "),r.a.createElement(p,{onChange:function(e){var n=e.target.value.toLowerCase(),a=t.filter((function(e){return e.name.toLowerCase().trim().includes(n)}));y(a)}}),r.a.createElement("h3",null," Create Entry "),r.a.createElement(E,{addName:function(e){e.preventDefault(),console.log("Clicked!");var n=t.find((function(e){return e.name===i})),a={name:i,dateAdded:(new Date).toISOString(),id:t.length+1,number:b};void 0!==t.find((function(e){return e.id===a.id}))&&(a.id=10*a.id/2),void 0===n&i.length>0?(d(a),o(t.concat(a)),m(""),w(""),console.log("Entry made:",i)):0===i.length?(m(""),window.alert("Invalid entry")):n.number===b?(window.alert(i+" Already exists!"),m(""),w("")):(console.log("Updating"),h(n.id,a))},newName:i,newNumber:b,handleName:function(e){console.log(e.target.value),m(e.target.value)},handleNumber:function(e){console.log(e.target.value),w(e.target.value)}}),r.a.createElement(v,{persons:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.0e4e0078.chunk.js.map